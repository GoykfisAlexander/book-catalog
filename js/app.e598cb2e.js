(function(){"use strict";var o={4884:function(o,e,t){var n=t(9242),r=t(3396);function i(o,e,t,n,i,s){const a=(0,r.up)("AppHeader"),l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(a),(0,r.Wm)(l)],64)}function s(o,e){const t=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("header",null,[(0,r._)("nav",null,[(0,r.Wm)(t,{to:"/"},{default:(0,r.w5)((()=>[(0,r.Uk)("Main Page")])),_:1}),(0,r.Uk)(" | "),(0,r.Wm)(t,{to:"/favorite"},{default:(0,r.w5)((()=>[(0,r.Uk)("Favorite Page")])),_:1})])])}var a=t(89);const l={},u=(0,a.Z)(l,[["render",s]]);var c=u,d=t(65),k={name:"HomeView",components:{AppHeader:c},mounted(){this.fetchData()},methods:{...(0,d.nv)(["getBooks"]),fetchData(){this.getBooks()}}};const p=(0,a.Z)(k,[["render",i]]);var g=p,f=t(2483);const v={class:"main-page"},m={key:1,class:"books"};function b(o,e,t,n,i,s){const a=(0,r.up)("AppMenu"),l=(0,r.up)("AppLoader"),u=(0,r.up)("BookCard");return(0,r.wg)(),(0,r.iD)("section",v,[(0,r.Wm)(a),o.loading?((0,r.wg)(),(0,r.j4)(l,{key:0})):((0,r.wg)(),(0,r.iD)("section",m,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.books,(o=>((0,r.wg)(),(0,r.iD)("div",{class:"book",key:"book-"+o.id},[(0,r.Wm)(u,{book:o},null,8,["book"])])))),128))]))])}var w=t(7139);const h={class:"book-card"},y=["src"],D={class:"description"};function B(o,e,t,n,i,s){const a=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",h,[(0,r.Wm)(a,{to:{path:"/details",query:{id:t.book.id}},class:"link"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,(0,w.zw)(t.book.volumeInfo.title),1)])),_:1},8,["to"]),(0,r._)("img",{src:t.book.volumeInfo.imageLinks.smallThumbnail,alt:"img"},null,8,y),(0,r._)("div",{class:(0,w.C_)(["star",{active:t.book.favorite}]),onClick:e[0]||(e[0]=(...o)=>s.toggleFavorite&&s.toggleFavorite(...o))},(0,w.zw)(t.book.favorite?"★":"☆"),3),(0,r._)("h5",null,(0,w.zw)(t.book.volumeInfo.authors?t.book.volumeInfo.authors.join(", "):"автор неизвестен"),1),(0,r._)("p",D,(0,w.zw)(t.book.volumeInfo.description),1),t.isDetailsPage?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"details",style:(0,w.j5)(s.getGridTemplateStyle)},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Object.keys(t.book.volumeInfo),(o=>((0,r.wg)(),(0,r.iD)("p",{key:o},(0,w.zw)(o),1)))),128)),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Object.values(t.book.volumeInfo),(o=>((0,r.wg)(),(0,r.iD)("p",{key:o},(0,w.zw)(o),1)))),128))],4)):(0,r.kq)("",!0)])}var O={props:{book:{type:Object,required:!0},isDetailsPage:{type:Boolean}},computed:{getGridTemplateStyle(){const o=Object.keys(this.book.volumeInfo).length;return`grid-template-columns: repeat(${o}, 1fr);`}},methods:{...(0,d.nv)(["setFavorite"]),toggleFavorite(){this.setFavorite(this.book.id)}}};const j=(0,a.Z)(O,[["render",B]]);var _=j;const P={class:"lds-spinner"};function C(o,e){return(0,r.wg)(),(0,r.iD)("div",P,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)([...Array(12)],(o=>((0,r.wg)(),(0,r.iD)("div",{key:o})))),128))])}const H={},A=(0,a.Z)(H,[["render",C]]);var Z=A;const F={class:"menu"};function I(o,e){return(0,r.wg)(),(0,r.iD)("menu",F,"Меню главной страницы")}const W={},L=(0,a.Z)(W,[["render",I]]);var Y=L,q={components:{BookCard:_,AppLoader:Z,AppMenu:Y},computed:(0,d.Se)(["books","loading"])};const x=(0,a.Z)(q,[["render",b]]);var z=x;const T={key:1},K={key:2,class:"books"};function M(o,e,t,n,i,s){const a=(0,r.up)("AppLoader"),l=(0,r.up)("BookCard");return(0,r.wg)(),(0,r.iD)(r.HY,null,[o.loading?((0,r.wg)(),(0,r.j4)(a,{key:0})):(0,r.kq)("",!0),o.selectedBooks.length?((0,r.wg)(),(0,r.iD)("section",K,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.selectedBooks,(o=>((0,r.wg)(),(0,r.iD)("div",{class:"book",key:"selectedBooks-"+o.id},[(0,r.Wm)(l,{book:o},null,8,["book"])])))),128))])):((0,r.wg)(),(0,r.iD)("h1",T,"У вас нет избранных книг"))],64)}var S={components:{BookCard:_,AppLoader:Z},computed:(0,d.Se)(["selectedBooks","loading"])};const U=(0,a.Z)(S,[["render",M]]);var $=U;function G(o,e,t,n,i,s){const a=(0,r.up)("BookCard");return(0,r.wg)(),(0,r.j4)(a,{book:s.book,isDetailsPage:s.isDetailsPage},null,8,["book","isDetailsPage"])}var E={components:{BookCard:_},computed:{...(0,d.Se)(["books"]),book(){const o=this.$route.query.id;return this.books.find((e=>e.id===o))||null},isDetailsPage(){return"/details"===this.$route.path}}};const R=(0,a.Z)(E,[["render",G]]);var V=R;const J=[{path:"/",name:"main",component:z},{path:"/favorite",name:"favorite",component:$},{path:"/details",name:"details",component:V}],N=(0,f.p7)({history:(0,f.PO)("/"),routes:J});var Q=N,X=t(4161);const oo={state:{loading:!0,books:[],selectedBooks:[]},getters:{loading(o){return o.loading},books(o){return o.books},selectedBooks(o){return o.selectedBooks}},mutations:{getBooks(o,e){o.books=e,o.selectedBooks=e.filter((o=>o.favorite))},setLoading(o,e){o.loading=e}},actions:{async getBooks({commit:o}){try{const e=await X.Z.get("https://www.googleapis.com/books/v1/volumes?q=1&maxResults=20"),t=e.data.items.map((o=>(o["favorite"]=!1,o)));o("getBooks",t)}catch(e){console.log(e)}finally{o("setLoading",!1)}},setFavorite({commit:o,state:e},t){const n=e.books.map((o=>(o.id===t&&(o.favorite=!o.favorite),o)));o("getBooks",n)}}};var eo=oo;const to=(0,d.MT)({modules:{books:eo}});var no=to;(0,n.ri)(g).use(no).use(Q).mount("#app")}},e={};function t(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return o[n].call(i.exports,i,i.exports,t),i.exports}t.m=o,function(){var o=[];t.O=function(e,n,r,i){if(!n){var s=1/0;for(c=0;c<o.length;c++){n=o[c][0],r=o[c][1],i=o[c][2];for(var a=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(t.O).every((function(o){return t.O[o](n[l])}))?n.splice(l--,1):(a=!1,i<s&&(s=i));if(a){o.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=o.length;c>0&&o[c-1][2]>i;c--)o[c]=o[c-1];o[c]=[n,r,i]}}(),function(){t.n=function(o){var e=o&&o.__esModule?function(){return o["default"]}:function(){return o};return t.d(e,{a:e}),e}}(),function(){t.d=function(o,e){for(var n in e)t.o(e,n)&&!t.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:e[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){t.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)}}(),function(){var o={143:0};t.O.j=function(e){return 0===o[e]};var e=function(e,n){var r,i,s=n[0],a=n[1],l=n[2],u=0;if(s.some((function(e){return 0!==o[e]}))){for(r in a)t.o(a,r)&&(t.m[r]=a[r]);if(l)var c=l(t)}for(e&&e(n);u<s.length;u++)i=s[u],t.o(o,i)&&o[i]&&o[i][0](),o[i]=0;return t.O(c)},n=self["webpackChunkbook_catalog"]=self["webpackChunkbook_catalog"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(4884)}));n=t.O(n)})();
//# sourceMappingURL=app.e598cb2e.js.map